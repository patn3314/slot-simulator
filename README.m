# 🎰 マイジャグラーV 疑似シミュレーター

ブラウザだけで動く静的 Web アプリです。  
**インストール不要**・**ビルド不要** — HTML と JavaScript を GitHub Pages に置くだけで完動します。  
（もちろんローカルで `index.html` を開くだけでも動きます。）

---

## 🚀 クイックスタート

1. **ZIP を展開**  
   リポジトリをダウンロード／クローンし、フォルダを展開します。

2. **役データを用意**  
   - `data/roles.csv` を **UTF-8** で保存。  
     - 列は `設定,役名,出現率,獲得枚数` の 4 つ。  
     - 出現率は分母 65 536 に対する **分子**（整数）。  
   - 他の名前にしたい場合は `js/simulator.js` の FETCH パスを変更してください。

3. **ローカル実行**  
   - フォルダ内の `index.html` をダブルクリック。  
   - ブラウザが起動し、設定フォームが表示されます。

4. **GitHub Pages へ公開 (任意)**  
   1. GitHub でリポジトリを作成し、ファイル一式を Push。  
   2. **Settings › Pages** でブランチを指定すると自動デプロイ。  
   3. 数分後に `https://<username>.github.io/<repo>/` でアクセス可能。

---

## 📝 使い方

| フォーム項目 | 意味 | 例 |
| --- | --- | --- |
| **シミュレーション回数** | 同じ条件で何セット実行するか | 1000 |
| **1回あたりのゲーム数** | 1セット＝何ゲームか | 8000 |
| **設定値** | 台設定（1〜6） | 6 |
| **1000円あたりの貸し出し枚数** | 通称「貸出し47枚」なら 47 | 47 |
| **交換率（枚／1000円）** | 20円スロ等価なら 50<br>5.6枚交換なら 56 | 50 |

1. 各項目を入力し **［シミュレーション開始］** をクリック。  
2. 進行バーが 100 % になると結果が表示されます。  
3. **統計値**（平均・中央値・最小・最大）がテキストで、  
   **ヒストグラム** が 3 枚（投資／所持メダル／収支）表示されます。  
4. **［結果 CSV をダウンロード］** で、各シミュレーションの詳細を取得できます。  
   - スキーマ：`シミュレーションNo,ゲーム数,BIG回数,REG回数,差枚数,最終所持メダル,投資金額`

---

## 📂 ディレクトリ構成
slot-simulator/
├── index.html … エントリーポイント
├── css/
│ └── style.css … スタイル（調整可）
├── js/
│ ├── main.js … 画面制御・CSV生成
│ ├── simulator.js … 乱数とシミュレーション本体
│ └── chart-setup.js … ヒストグラム描画
├── data/
│ └── roles.csv … 役出現率・払い出し枚数
└── README.md … このファイル


---

## ⚙️ カスタマイズ

| やりたいこと | 方法 |
| --- | --- |
| **役データを差し替えたい** | `data/roles.csv` を編集 or ファイル名を変えて `simulator.js` の fetch パスを修正 |
| **結果のヒストグラム bin 数を変えたい** | `js/chart-setup.js` → `drawHistogram()` の `bins` 引数を調整 |
| **再現可能な乱数にしたい** | `js/simulator.js` の `new PRNG(Date.now())` を固定値に置き換え |
| **フォームをもっと詳しく** | `index.html` の `<form>` を自由に拡張 |

---

## ❓ よくある質問

| Q | A |
| - | - |
| **スマホで動く？** | Yes。最新のモバイル Chrome / Safari で確認済み。 |
| **CSV が文字化けする** | Excel で開く場合は「UTF-8」指定でインポートしてください。 |
| **出現率を％で入れたい** | CSV を「確率 (0–1)」列にして、`simulator.js` のパースを変更してください。 |

---

## 🛠 開発者向けメモ

- 依存は **Chart.js 4.x** のみ（CDN 読み込み）。  
- ビルドツール不使用（TypeScript / Babel なし）。  
- モジュールはネイティブ ES Module (`<script type="module">`)。  
- 乱数は軽量な **xorshift32** 実装。  
- ライセンスは MIT — 商用・改変・再配布自由です。

---

## 📝 ライセンス
MIT License
Copyright (c) 2025